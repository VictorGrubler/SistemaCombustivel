<!-- veiculos.html -->

{% extends "base.html" %}

{% block content %}
<div class="main-content">
    <h2>Cadastrar Veículo</h2>

    <!-- Toast de mensagem -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="toast {{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}


    <form class="formulario" method="POST" action="/veiculos">
        <label for="nome">Nome do Veículo</label>
        <input type="text" id="nome" name="nome" required>

        <label for="placa">Placa</label>
        <input type="text" id="placa" name="placa" maxlength="10" required>

        <label for="quilometragem">Quilometragem Inicial</label>
        <input type="number" step="0.1" id="quilometragem" name="quilometragem" required>

        <button type="submit">Cadastrar</button>
    </form>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
      const toasts = document.querySelectorAll(".toast");
      toasts.forEach(toast => {
          setTimeout(() => {
              toast.style.opacity = '0';
              setTimeout(() => toast.remove(), 500);
          }, 3000); // tempo em ms antes de desaparecer
      });
  });
</script>

{% endblock %}
